{"version":3,"sources":["pages/WelcomePage.js","api.js","pages/Auth/LoginPage.js","pages/Auth/RegisterPage.js","pages/user/UserDashboard.js","pages/admin/AdminDashboard.js","pages/NotFoundPage.js","components/PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["WelcomePage","_jsxs","children","_jsx","api","axios","create","baseURL","console","log","defaults","LoginPage","email","setEmail","useState","password","setPassword","navigate","useNavigate","onSubmit","async","e","preventDefault","res","post","data","token","localStorage","setItem","decodedToken","JSON","parse","atob","split","userName","name","replace","toLowerCase","role","concat","error","alert","err","type","placeholder","value","onChange","target","required","RegisterPage","formData","setFormData","response","_objectSpread","UserDashboard","setData","useEffect","getItem","get","apiBaseURL","headers","Authorization","fetchData","stringify","AdminDashboard","NotFoundPage","PrivateRoute","_ref","allowedRoles","user","includes","Outlet","Navigate","to","App","setUser","fetchUser","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","Router","document","getElementById"],"mappings":"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","file":"static/js/main.fdd6991e.chunk.js","sourcesContent":["import React from 'react';\n\nfunction WelcomePage() {\n  return (\n    <div>\n      <h1>Welcome to Marketing Copilot Manager</h1>\n      <p>This is the welcome page.</p>\n    </div>\n  );\n}\n\nexport default WelcomePage;","import axios from 'axios';\n\nconst apiBaseURL = process.env.NODE_ENV === 'production'\n  ? 'https://mysterious-beach-84770-b25cca31cb4f.herokuapp.com/api'\n  : 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL: apiBaseURL,\n});\n\nconsole.log('API baseURL:', api.defaults.baseURL);\n\nexport default api;","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../../api';\n\nfunction LoginPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    console.log('Login attempt with email:', email);\n    try {\n      const res = await api.post('/login', { email, password });\n      console.log('API response:', res);\n      if (res.data && res.data.token) {\n        localStorage.setItem('token', res.data.token);\n        const decodedToken = JSON.parse(atob(res.data.token.split('.')[1]));\n        console.log('Decoded token:', decodedToken);\n        const userName = decodedToken.name.replace(/\\s+/g, '-').toLowerCase(); // Replace spaces with hyphens and convert to lowercase\n        if (decodedToken.role === 'admin') {\n          navigate(`/${userName}/admin-dashboard`);\n        } else {\n          navigate(`/${userName}/user-dashboard`);\n        }\n      } else {\n        console.error('Invalid API response:', res);\n        alert('Login failed: Invalid response from server');\n      }\n    } catch (err) {\n      console.error('Login error:', err);\n      alert('Login failed');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <form onSubmit={handleLogin}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  );\n}\n\nexport default LoginPage;","import React, { useState } from 'react';\nimport api from '../../api';\nimport { useNavigate } from 'react-router-dom';\n\nconst RegisterPage = () => {\n  const [formData, setFormData] = useState({ name: '', email: '', password: '', role: 'user' });\n  const navigate = useNavigate();\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    console.log('Registration attempt with data:', formData);\n    try {\n      const response = await api.post('/register', formData);\n      console.log('Registration successful:', response.data);\n      alert('User registered successfully');\n      navigate('/login');\n    } catch (error) {\n      console.error('Registration error:', error);\n      alert('Registration failed');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Register</h1>\n      <form onSubmit={handleRegister}>\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          value={formData.name}\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n          required\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={formData.email}\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={formData.password}\n          onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n          required\n        />\n        <select\n          value={formData.role}\n          onChange={(e) => setFormData({ ...formData, role: e.target.value })}\n          required\n        >\n          <option value=\"user\">User</option>\n          <option value=\"admin\">Admin</option>\n        </select>\n        <button type=\"submit\">Register</button>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterPage;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport apiBaseURL from '../../api';\n\nconst UserDashboard = () => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get(`${apiBaseURL}/user-dashboard`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setData(response.data);\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (!data) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <h1>User Dashboard</h1>\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n    </div>\n  );\n};\n\nexport default UserDashboard;","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport apiBaseURL from '../../api';\n\nconst AdminDashboard = () => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        const response = await axios.get(`${apiBaseURL}/admin-dashboard`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setData(response.data);\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  if (!data) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <div>\n      <h1>Admin Dashboard</h1>\n      <pre>{JSON.stringify(data, null, 2)}</pre>\n    </div>\n  );\n};\n\nexport default AdminDashboard;","// filepath: /opt/lampp/htdocs/marketing-copilot-manager/frontend/src/pages/NotFoundPage.js\nimport React from 'react';\n\nconst NotFoundPage = () => {\n  return (\n    <div>\n      <h1>404 - Page Not Found</h1>\n      <p>The page you are looking for does not exist.</p>\n    </div>\n  );\n};\n\nexport default NotFoundPage;","// filepath: /opt/lampp/htdocs/marketing-copilot-manager/frontend/src/components/PrivateRoute.js\nimport React from 'react';\nimport { Navigate, Outlet } from 'react-router-dom';\n\nconst PrivateRoute = ({ allowedRoles, user }) => {\n  if (!user) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  if (!allowedRoles.includes(user.role)) {\n    return <Navigate to=\"/unauthorized\" />;\n  }\n\n  return <Outlet />;\n};\n\nexport default PrivateRoute;","import React, { useState, useEffect } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport WelcomePage from './pages/WelcomePage';\nimport LoginPage from './pages/Auth/LoginPage';\nimport RegisterPage from './pages/Auth/RegisterPage';\nimport UserDashboard from './pages/user/UserDashboard';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport NotFoundPage from './pages/NotFoundPage';\nimport PrivateRoute from './components/PrivateRoute';\nimport axios from 'axios';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (token) {\n          const response = await axios.get('/api/user', {\n            headers: { Authorization: `Bearer ${token}` },\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n\n    fetchUser();\n  }, []);\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<WelcomePage />} />\n      <Route path=\"/login\" element={<LoginPage />} />\n      <Route path=\"/register\" element={<RegisterPage />} />\n      <Route path=\"/user-dashboard\" element={<PrivateRoute allowedRoles={['user', 'admin']} user={user}><UserDashboard /></PrivateRoute>} />\n      <Route path=\"/admin-dashboard\" element={<PrivateRoute allowedRoles={['admin']} user={user}><AdminDashboard /></PrivateRoute>} />\n      <Route path=\"*\" element={<NotFoundPage />} />\n    </Routes>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}