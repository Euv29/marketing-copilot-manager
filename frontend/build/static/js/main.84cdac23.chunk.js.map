{"version":3,"sources":["pages/WelcomePage.js","api.js","pages/Auth/LoginPage.js","pages/Auth/RegisterPage.js","pages/user/UserDashboard.js","pages/admin/AdminDashboard.js","components/PrivateRoute.js","App.js","reportWebVitals.js","index.js"],"names":["WelcomePage","_jsxs","children","_jsx","baseURL","process","REACT_APP_API_URL","api","axios","create","console","log","defaults","LoginPage","email","setEmail","useState","password","setPassword","navigate","useNavigate","onSubmit","async","e","preventDefault","res","post","data","token","localStorage","setItem","decodedToken","JSON","parse","atob","split","userName","name","replace","toLowerCase","role","concat","error","alert","err","type","placeholder","value","onChange","target","required","RegisterPage","formData","setFormData","response","_objectSpread","UserDashboard","user","setUser","useEffect","getItem","onClick","handleLogout","removeItem","AdminDashboard","PrivateRoute","_ref","allowedRoles","includes","Outlet","Navigate","to","App","get","headers","Authorization","fetchUser","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","Router","document","getElementById"],"mappings":"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","file":"static/js/main.84cdac23.chunk.js","sourcesContent":["import React from 'react';\n\nfunction WelcomePage() {\n  return (\n    <div>\n      <h1>Welcome to Marketing Copilot Manager</h1>\n      <p>This is the welcome page.</p>\n    </div>\n  );\n}\n\nexport default WelcomePage;","import axios from 'axios';\n\nconst baseURL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nconst api = axios.create({\n  baseURL,\n});\n\nconsole.log('API baseURL:', api.defaults.baseURL);\n\nexport default api;","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../../api';\n\nfunction LoginPage() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    console.log('Login attempt with email:', email);\n    try {\n      const res = await api.post('/login', { email, password });\n      console.log('API response:', res);\n      if (res.data && res.data.token) {\n        localStorage.setItem('token', res.data.token);\n        const decodedToken = JSON.parse(atob(res.data.token.split('.')[1]));\n        console.log('Decoded token:', decodedToken);\n        const userName = decodedToken.name.replace(/\\s+/g, '-').toLowerCase(); // Replace spaces with hyphens and convert to lowercase\n        if (decodedToken.role === 'admin') {\n          navigate(`/${userName}/admin-dashboard`);\n        } else {\n          navigate(`/${userName}/user-dashboard`);\n        }\n      } else {\n        console.error('Invalid API response:', res);\n        alert('Login failed: Invalid response from server');\n      }\n    } catch (err) {\n      console.error('Login error:', err);\n      alert('Login failed');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Login</h1>\n      <form onSubmit={handleLogin}>\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n    </div>\n  );\n}\n\nexport default LoginPage;","import React, { useState } from 'react';\nimport api from '../../api';\nimport { useNavigate } from 'react-router-dom';\n\nconst RegisterPage = () => {\n  const [formData, setFormData] = useState({ name: '', email: '', password: '', role: 'user' });\n  const navigate = useNavigate();\n\n  const handleRegister = async (e) => {\n    e.preventDefault();\n    console.log('Registration attempt with data:', formData);\n    try {\n      const response = await api.post('/register', formData);\n      console.log('Registration successful:', response.data);\n      alert('User registered successfully');\n      navigate('/login');\n    } catch (error) {\n      console.error('Registration error:', error);\n      alert('Registration failed');\n    }\n  };\n\n  return (\n    <div>\n      <h1>Register</h1>\n      <form onSubmit={handleRegister}>\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          value={formData.name}\n          onChange={(e) => setFormData({ ...formData, name: e.target.value })}\n          required\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={formData.email}\n          onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n          required\n        />\n        <input\n          type=\"password\"\n          placeholder=\"Password\"\n          value={formData.password}\n          onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n          required\n        />\n        <select\n          value={formData.role}\n          onChange={(e) => setFormData({ ...formData, role: e.target.value })}\n          required\n        >\n          <option value=\"user\">User</option>\n          <option value=\"admin\">Admin</option>\n        </select>\n        <button type=\"submit\">Register</button>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterPage;","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst UserDashboard = () => {\n  const [user, setUser] = useState({});\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      const decodedToken = JSON.parse(atob(token.split('.')[1]));\n      setUser({\n        name: decodedToken.name,\n        email: decodedToken.email,\n        role: decodedToken.role,\n      });\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  return (\n    <div>\n      <h1>User Dashboard</h1>\n      <p>Welcome to your dashboard, {user.name}!</p>\n      <p>Email: {user.email}</p>\n      <p>Role: {user.role}</p>\n      <button onClick={handleLogout}>Logout</button>\n    </div>\n  );\n};\n\nexport default UserDashboard;","import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst AdminDashboard = () => {\n  const [user, setUser] = useState({});\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      const decodedToken = JSON.parse(atob(token.split('.')[1]));\n      setUser({\n        name: decodedToken.name,\n        email: decodedToken.email,\n        role: decodedToken.role,\n      });\n    }\n  }, []);\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    navigate('/login');\n  };\n\n  return (\n    <div>\n      <h1>Admin Dashboard</h1>\n      <p>Welcome to your dashboard, {user.name}!</p>\n      <p>Email: {user.email}</p>\n      <p>Role: {user.role}</p>\n      <button onClick={handleLogout}>Logout</button>\n    </div>\n  );\n};\n\nexport default AdminDashboard;","// filepath: /opt/lampp/htdocs/marketing-copilot-manager/frontend/src/components/PrivateRoute.js\nimport React from 'react';\nimport { Navigate, Outlet } from 'react-router-dom';\n\nconst PrivateRoute = ({ allowedRoles, user }) => {\n  if (!user) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  if (!allowedRoles.includes(user.role)) {\n    return <Navigate to=\"/unauthorized\" />;\n  }\n\n  return <Outlet />;\n};\n\nexport default PrivateRoute;","import React, { useState, useEffect } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport WelcomePage from './pages/WelcomePage';\nimport LoginPage from './pages/Auth/LoginPage';\nimport RegisterPage from './pages/Auth/RegisterPage';\nimport UserDashboard from './pages/user/UserDashboard';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport PrivateRoute from './components/PrivateRoute';\nimport axios from 'axios';\n\nfunction App() {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // Fetch user data from API or local storage\n    const fetchUser = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (token) {\n          const response = await axios.get('/api/user', {\n            headers: { Authorization: token },\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n      }\n    };\n\n    fetchUser();\n  }, []);\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<WelcomePage />} />\n      <Route path=\"/login\" element={<LoginPage />} />\n      <Route path=\"/register\" element={<RegisterPage />} />\n      <Route path=\"/user-dashboard\" element={<PrivateRoute allowedRoles={['user', 'admin']} user={user}><UserDashboard /></PrivateRoute>} />\n      <Route path=\"/admin-dashboard\" element={<PrivateRoute allowedRoles={['admin']} user={user}><AdminDashboard /></PrivateRoute>} />\n    </Routes>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}